{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport createRequestSaga, { createRequestActionTypes } from '../lib/createRequestSaga';\nimport * as postAPI from '../lib/api/posts';\nimport { takeLatest } from 'redux-saga/effects';\nconst INITIALIZE = 'write/INITIALIZE';\nconst CHANGE_FIELD = 'write/CHANGE_FIELD';\nconst SET_ORIGINAL_POST = 'write/SET_ORIGINAL_POST';\nconst [WRITE_POST, WRITE_POST_SUCCESS, WRITE_POST_FAILURE] = createRequestActionTypes('write/WRITE_POST');\nexport const initialize = createAction(INITIALIZE);\nexport const changeField = createAction(CHANGE_FIELD, _ref => {\n  let {\n    key,\n    value\n  } = _ref;\n  return {\n    key,\n    value\n  };\n});\nexport const writePost = createAction(WRITE_POST, _ref2 => {\n  let {\n    title,\n    body,\n    tags\n  } = _ref2;\n  return {\n    title,\n    body,\n    tags\n  };\n});\nexport const setOriginalPost = createAction(SET_ORIGINAL_POST, post => post);\nconst writePostSaga = createRequestSaga(WRITE_POST, postAPI.writePost);\nexport function* writeSaga() {\n  yield takeLatest(WRITE_POST, writePostSaga);\n}\nconst initialState = {\n  title: '',\n  body: '',\n  tags: [],\n  post: null,\n  postError: null,\n  originalPostId: null\n};\nconst write = handleActions({\n  [INITIALIZE]: state => initialState,\n  [CHANGE_FIELD]: (state, _ref3) => {\n    let {\n      payload: {\n        key,\n        value\n      }\n    } = _ref3;\n    return { ...state,\n      [key]: value\n    };\n  },\n  [WRITE_POST]: state => ({ ...state,\n    post: null,\n    postError: null\n  }),\n  [WRITE_POST_SUCCESS]: (state, _ref4) => {\n    let {\n      payload: post\n    } = _ref4;\n    return { ...state,\n      post\n    };\n  },\n  [WRITE_POST_FAILURE]: (state, _ref5) => {\n    let {\n      payload: postError\n    } = _ref5;\n    return { ...state,\n      postError\n    };\n  },\n  [SET_ORIGINAL_POST]: (state, _ref6) => {\n    let {\n      payload: post\n    } = _ref6;\n    return { ...state,\n      title: post.title,\n      body: post.body,\n      tags: post.tags,\n      originalPostId: post._id\n    };\n  }\n}, initialState);\nexport default write;","map":{"version":3,"names":["createAction","handleActions","createRequestSaga","createRequestActionTypes","postAPI","takeLatest","INITIALIZE","CHANGE_FIELD","SET_ORIGINAL_POST","WRITE_POST","WRITE_POST_SUCCESS","WRITE_POST_FAILURE","initialize","changeField","key","value","writePost","title","body","tags","setOriginalPost","post","writePostSaga","writeSaga","initialState","postError","originalPostId","write","state","payload","_id"],"sources":["/home/djkim0604/klaytn/workspace_djkim/js_test/react_basic/blog/blog-frontend/src/modules/write.js"],"sourcesContent":["import {createAction, handleActions} from 'redux-actions';\nimport createRequestSaga, {createRequestActionTypes} from '../lib/createRequestSaga';\nimport * as postAPI from '../lib/api/posts';\nimport {takeLatest} from 'redux-saga/effects';\n\nconst INITIALIZE = 'write/INITIALIZE';\nconst CHANGE_FIELD = 'write/CHANGE_FIELD';\nconst SET_ORIGINAL_POST = 'write/SET_ORIGINAL_POST';\n\nconst [WRITE_POST, WRITE_POST_SUCCESS, WRITE_POST_FAILURE] = createRequestActionTypes('write/WRITE_POST');\n\nexport const initialize = createAction(INITIALIZE);\nexport const changeField = createAction(CHANGE_FIELD, ({key, value}) => ({\n    key,\n    value,\n}));\nexport const writePost = createAction(WRITE_POST, \n    ({title, body, tags}) => ({\n        title, body, tags,\n    })\n);\nexport const setOriginalPost = createAction(SET_ORIGINAL_POST, post => post);\n\nconst writePostSaga = createRequestSaga(WRITE_POST, postAPI.writePost);\nexport function* writeSaga() {\n    yield takeLatest(WRITE_POST, writePostSaga);\n}\n\nconst initialState = {\n    title: '',\n    body: '',\n    tags: [],\n    post: null,\n    postError: null,\n    originalPostId: null,\n};\n\nconst write = handleActions(\n    {\n        [INITIALIZE]: state => initialState,\n        [CHANGE_FIELD]: (state, {payload: {key, value}}) => ({\n            ...state,\n            [key]: value,\n        }),\n        [WRITE_POST]: state => ({\n            ...state,\n            post: null,\n            postError: null,\n        }),\n        [WRITE_POST_SUCCESS]: (state, {payload: post}) => ({\n            ...state,\n            post,\n        }),\n        [WRITE_POST_FAILURE]: (state, {payload: postError}) => ({\n            ...state,\n            postError,\n        }),\n        [SET_ORIGINAL_POST]: (state, {payload: post}) => ({\n            ...state,\n            title: post.title,\n            body: post.body,\n            tags: post.tags,\n            originalPostId: post._id,\n        })\n    },\n    initialState,\n);\n\nexport default write;\n\n"],"mappings":"AAAA,SAAQA,YAAR,EAAsBC,aAAtB,QAA0C,eAA1C;AACA,OAAOC,iBAAP,IAA2BC,wBAA3B,QAA0D,0BAA1D;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AACA,SAAQC,UAAR,QAAyB,oBAAzB;AAEA,MAAMC,UAAU,GAAG,kBAAnB;AACA,MAAMC,YAAY,GAAG,oBAArB;AACA,MAAMC,iBAAiB,GAAG,yBAA1B;AAEA,MAAM,CAACC,UAAD,EAAaC,kBAAb,EAAiCC,kBAAjC,IAAuDR,wBAAwB,CAAC,kBAAD,CAArF;AAEA,OAAO,MAAMS,UAAU,GAAGZ,YAAY,CAACM,UAAD,CAA/B;AACP,OAAO,MAAMO,WAAW,GAAGb,YAAY,CAACO,YAAD,EAAe;EAAA,IAAC;IAACO,GAAD;IAAMC;EAAN,CAAD;EAAA,OAAmB;IACrED,GADqE;IAErEC;EAFqE,CAAnB;AAAA,CAAf,CAAhC;AAIP,OAAO,MAAMC,SAAS,GAAGhB,YAAY,CAACS,UAAD,EACjC;EAAA,IAAC;IAACQ,KAAD;IAAQC,IAAR;IAAcC;EAAd,CAAD;EAAA,OAA0B;IACtBF,KADsB;IACfC,IADe;IACTC;EADS,CAA1B;AAAA,CADiC,CAA9B;AAKP,OAAO,MAAMC,eAAe,GAAGpB,YAAY,CAACQ,iBAAD,EAAoBa,IAAI,IAAIA,IAA5B,CAApC;AAEP,MAAMC,aAAa,GAAGpB,iBAAiB,CAACO,UAAD,EAAaL,OAAO,CAACY,SAArB,CAAvC;AACA,OAAO,UAAUO,SAAV,GAAsB;EACzB,MAAMlB,UAAU,CAACI,UAAD,EAAaa,aAAb,CAAhB;AACH;AAED,MAAME,YAAY,GAAG;EACjBP,KAAK,EAAE,EADU;EAEjBC,IAAI,EAAE,EAFW;EAGjBC,IAAI,EAAE,EAHW;EAIjBE,IAAI,EAAE,IAJW;EAKjBI,SAAS,EAAE,IALM;EAMjBC,cAAc,EAAE;AANC,CAArB;AASA,MAAMC,KAAK,GAAG1B,aAAa,CACvB;EACI,CAACK,UAAD,GAAcsB,KAAK,IAAIJ,YAD3B;EAEI,CAACjB,YAAD,GAAgB,CAACqB,KAAD;IAAA,IAAQ;MAACC,OAAO,EAAE;QAACf,GAAD;QAAMC;MAAN;IAAV,CAAR;IAAA,OAAqC,EACjD,GAAGa,KAD8C;MAEjD,CAACd,GAAD,GAAOC;IAF0C,CAArC;EAAA,CAFpB;EAMI,CAACN,UAAD,GAAcmB,KAAK,KAAK,EACpB,GAAGA,KADiB;IAEpBP,IAAI,EAAE,IAFc;IAGpBI,SAAS,EAAE;EAHS,CAAL,CANvB;EAWI,CAACf,kBAAD,GAAsB,CAACkB,KAAD;IAAA,IAAQ;MAACC,OAAO,EAAER;IAAV,CAAR;IAAA,OAA6B,EAC/C,GAAGO,KAD4C;MAE/CP;IAF+C,CAA7B;EAAA,CAX1B;EAeI,CAACV,kBAAD,GAAsB,CAACiB,KAAD;IAAA,IAAQ;MAACC,OAAO,EAAEJ;IAAV,CAAR;IAAA,OAAkC,EACpD,GAAGG,KADiD;MAEpDH;IAFoD,CAAlC;EAAA,CAf1B;EAmBI,CAACjB,iBAAD,GAAqB,CAACoB,KAAD;IAAA,IAAQ;MAACC,OAAO,EAAER;IAAV,CAAR;IAAA,OAA6B,EAC9C,GAAGO,KAD2C;MAE9CX,KAAK,EAAEI,IAAI,CAACJ,KAFkC;MAG9CC,IAAI,EAAEG,IAAI,CAACH,IAHmC;MAI9CC,IAAI,EAAEE,IAAI,CAACF,IAJmC;MAK9CO,cAAc,EAAEL,IAAI,CAACS;IALyB,CAA7B;EAAA;AAnBzB,CADuB,EA4BvBN,YA5BuB,CAA3B;AA+BA,eAAeG,KAAf"},"metadata":{},"sourceType":"module"}